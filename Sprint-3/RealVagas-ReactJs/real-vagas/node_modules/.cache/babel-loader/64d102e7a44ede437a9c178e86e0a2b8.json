{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\henri\\\\Desktop\\\\Senai-CodeCreators\\\\Sprint-3\\\\RealVagas-ReactJs\\\\real-vagas\\\\src\\\\pages\\\\Dashboard-Empresa\\\\index.tsx\";\nimport React, { useEffect, useState } from 'react';\nimport Footer from '../../components/Footer';\nimport Header from '../../components/Header';\nimport { Card, Col, Container, Image, Row } from 'react-bootstrap';\nimport './style.css';\nimport Logo from '../../assets/image/Logo.png';\nimport { Link } from 'react-router-dom';\nimport { Pie } from 'react-chartjs-2';\nimport Button from '../../components/Button';\n\nfunction DashboardEmpresa() {\n  const [vagas, setVagas] = useState([]);\n  useEffect(() => {\n    Listar();\n  }, []);\n  const legends = {\n    display: false,\n    position: \"bottom\",\n    textDirection: \"column\",\n    labels: {\n      fontColor: \"#323130\",\n      fontSize: 14\n    }\n  };\n  const data = {\n    labels: ['Vagas Cadastradas', 'Currículos Recebidos', 'Mensagem Enviadas'],\n    colors: ['#C5483E', '#79CC76', '#005086'],\n    datasets: [{\n      data: [vagas.length, 50, 90],\n      backgroundColor: ['#C5483E', '#79CC76', '#005086']\n    }]\n  };\n  var dados = [{}];\n\n  const generate = () => {\n    let count = 0;\n    var obj = {};\n    data.labels.map(item => {\n      obj = {\n        \"name\": item,\n        \"color\": data.colors[count],\n        \"valor\": data.datasets[0].data[count]\n      };\n      dados[count] = obj;\n      count++;\n    });\n    dados.sort(function (a, b) {\n      return a.valor - b.valor;\n    }).reverse();\n    return /*#__PURE__*/React.createElement(\"ul\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 13\n      }\n    }, dados.map(item => /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"ponto\",\n      style: {\n        backgroundColor: item.color\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 33\n      }\n    }), /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 33\n      }\n    }, item.name)), /*#__PURE__*/React.createElement(\"p\", {\n      id: \"sub-title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 29\n      }\n    }, item.valor))));\n  };\n\n  const Listar = () => {\n    var IdEmpresa = localStorage.getItem(\"Real-Vagas-Id-Usuario\");\n    const url = \"http://localhost:5000/api/Vagas/VagaByIdEmpresa/id?Id=\" + IdEmpresa;\n    console.log(url);\n    fetch(url, {\n      method: \"GET\"\n    }).then(Response => Response.json()).then(Respost => {\n      setVagas(Respost);\n      console.log(Respost);\n    }).catch(err => {\n      console.log(\"Deu erro!!!\");\n      console.error(err); //retornar um erro \n    });\n  };\n\n  const Deleta = Id => {\n    window.prompt(\"Digite SIM para confirmar\");\n    const form = {\n      StatusVaga: false\n    };\n    const url = \"http://localhost:5000/api/Vagas/\" + Id;\n    fetch(url, {\n      headers: {\n        //authorization: 'Bearer ' + localStorage.getItem('Real-Vagas-Token'),\n        'Content-Type': 'application/json'\n      },\n      method: \"PUT\",\n      body: JSON.stringify(form)\n    }).then(() => {\n      Listar();\n    }).catch(err => {\n      console.log(\"Deu erro!!!\");\n      console.error(err); //retornar um erro \n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Container, {\n    className: \"Banner fluid\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    className: \"text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Card.Body, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(Image, {\n    src: Logo,\n    className: \"img-fluid\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 33\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card-ajuste\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(Card.Title, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 37\n    }\n  }, \"Criar an\\xFAncio de vaga\", /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 31\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"button-card\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/CadastroVaga\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 41\n    }\n  }, \"Criar\")))))), /*#__PURE__*/React.createElement(Col, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    className: \"text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Card.Body, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(Image, {\n    src: Logo,\n    className: \"img-fluid\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 33\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card-ajuste\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(Card.Title, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 37\n    }\n  }, \"Seleciona curr\\xEDculos recebidos\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"button-card\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/Curriculos\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 41\n    }\n  }, \"Selecionar\")))))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"tabela-dash\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"table\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 29\n    }\n  }, \"Fun\\xE7\\xE3o\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 29\n    }\n  }, \"Sal\\xE1rio\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 29\n    }\n  }, \"Recrutadora(o)\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 29\n    }\n  }, \"Local\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 29\n    }\n  }, \"Inscri\\xE7\\xF5es\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 29\n    }\n  }, \"Deletar\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 21\n    }\n  }, vagas.map(item => {\n    return /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 41\n      }\n    }, item.cargo), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 41\n      }\n    }, \"R$ \", item.salario.toFixed(2)), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 41\n      }\n    }, item.nomeRecrutador), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 41\n      }\n    }, item.localVaga), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      id: \"link-dash\",\n      to: \"/Curriculos\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 45\n      }\n    }, \"Ver Inscri\\xE7\\xF5es\")), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      id: \"button-dash\",\n      name: \"Deletar\",\n      onClick: () => Deleta(item.id),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 45\n      }\n    })));\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"grafico\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"title-grafico\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 21\n    }\n  }, \"Estat\\xEDsticas dos ultimos 30 dias\"), /*#__PURE__*/React.createElement(Pie, {\n    legend: legends,\n    data: data,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"legends\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 21\n    }\n  }, generate()))), /*#__PURE__*/React.createElement(Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 13\n    }\n  }));\n}\n\nexport default DashboardEmpresa;","map":{"version":3,"sources":["C:/Users/henri/Desktop/Senai-CodeCreators/Sprint-3/RealVagas-ReactJs/real-vagas/src/pages/Dashboard-Empresa/index.tsx"],"names":["React","useEffect","useState","Footer","Header","Card","Col","Container","Image","Row","Logo","Link","Pie","Button","DashboardEmpresa","vagas","setVagas","Listar","legends","display","position","textDirection","labels","fontColor","fontSize","data","colors","datasets","length","backgroundColor","dados","generate","count","obj","map","item","sort","a","b","valor","reverse","color","name","IdEmpresa","localStorage","getItem","url","console","log","fetch","method","then","Response","json","Respost","catch","err","error","Deleta","Id","window","prompt","form","StatusVaga","headers","body","JSON","stringify","cargo","salario","toFixed","nomeRecrutador","localVaga","id"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport Footer from '../../components/Footer';\r\nimport Header from '../../components/Header';\r\nimport { Card, Col, Container, Image, Row } from 'react-bootstrap'\r\nimport './style.css';\r\nimport Logo from '../../assets/image/Logo.png';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport { Pie } from 'react-chartjs-2';\r\nimport Button from '../../components/Button';\r\n\r\nfunction DashboardEmpresa() {\r\n\r\n    const [vagas, setVagas] = useState([]);\r\n\r\n    useEffect(() => {\r\n        Listar();\r\n    }, []);\r\n\r\n    const legends = {\r\n        display: false,\r\n        position: \"bottom\",\r\n        textDirection: \"column\",\r\n        labels: {\r\n            fontColor: \"#323130\",\r\n            fontSize: 14\r\n        }\r\n    } as any;\r\n\r\n    const data = {\r\n        labels: [\r\n            'Vagas Cadastradas',\r\n            'Currículos Recebidos',\r\n            'Mensagem Enviadas'\r\n        ],\r\n        colors: [\r\n            '#C5483E',\r\n            '#79CC76',\r\n            '#005086'\r\n        ],\r\n        datasets: [{\r\n            data: [vagas.length, 50, 90],\r\n            backgroundColor: [\r\n                '#C5483E',\r\n                '#79CC76',\r\n                '#005086'\r\n            ]\r\n        }]\r\n    };\r\n\r\n    var dados = [{}];\r\n    const generate = () => {\r\n        let count = 0;\r\n        var obj = {};\r\n        data.labels.map((item: any) => {\r\n            obj = { \"name\": item, \"color\": data.colors[count], \"valor\": data.datasets[0].data[count] };\r\n            dados[count] = obj;\r\n            count++;\r\n        });\r\n\r\n        dados.sort(function (a: any, b: any) {\r\n            return a.valor - b.valor;\r\n        }).reverse()\r\n        return (\r\n            <ul>\r\n                {\r\n                    dados.map((item: any) =>\r\n                        <li>\r\n                            <div>\r\n                                <div className=\"ponto\" style={{ backgroundColor: item.color }}></div>\r\n                                <li>{item.name}</li>\r\n                            </div>\r\n                            <p id=\"sub-title\">{item.valor}</p>\r\n                        </li>\r\n                    )\r\n                }\r\n            </ul>\r\n        );\r\n    }\r\n\r\n\r\n    const Listar = () => {\r\n        var IdEmpresa = localStorage.getItem(\"Real-Vagas-Id-Usuario\") as any;\r\n        const url = \"http://localhost:5000/api/Vagas/VagaByIdEmpresa/id?Id=\" + IdEmpresa;\r\n        console.log(url);\r\n        fetch(url, {\r\n            method: \"GET\"\r\n        }).then(Response => Response.json())\r\n            .then(Respost => {\r\n                setVagas(Respost);\r\n                console.log(Respost);\r\n            })\r\n            .catch(err => {\r\n                console.log(\"Deu erro!!!\")\r\n                console.error(err); //retornar um erro \r\n            })\r\n    }\r\n\r\n    const Deleta = (Id:any) => {\r\n        window.prompt(\"Digite SIM para confirmar\")\r\n        const form ={\r\n            StatusVaga: false\r\n        }\r\n        const url = \"http://localhost:5000/api/Vagas/\" + Id;\r\n        fetch(url, {\r\n            headers:{\r\n                //authorization: 'Bearer ' + localStorage.getItem('Real-Vagas-Token'),\r\n                'Content-Type': 'application/json'\r\n            },\r\n            method: \"PUT\",\r\n            body: JSON.stringify(form)\r\n        }).then(()=>{\r\n            Listar();\r\n        })\r\n            .catch(err => {\r\n                console.log(\"Deu erro!!!\")\r\n                console.error(err); //retornar um erro \r\n            })\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <Header />\r\n            <Container className=\"Banner fluid\"></Container>\r\n            <Container >\r\n                <Row>\r\n                    <Col>\r\n                        <Card className=\"text-center\">\r\n                            <Card.Body>\r\n                                <Image src={Logo} className=\"img-fluid\" />\r\n                                <div className=\"card-ajuste\">\r\n                                    <Card.Title>Criar anúncio de vaga\r\n                        <br /><br /></Card.Title>\r\n                                    <div className=\"button-card\">\r\n                                        <Link to=\"/CadastroVaga\">Criar</Link>\r\n                                    </div>\r\n                                </div>\r\n                            </Card.Body>\r\n                        </Card>\r\n                    </Col>\r\n\r\n                    <Col>\r\n                        <Card className=\"text-center\">\r\n                            <Card.Body>\r\n                                <Image src={Logo} className=\"img-fluid\" />\r\n                                <div className=\"card-ajuste\">\r\n                                    <Card.Title>Seleciona currículos recebidos</Card.Title>\r\n                                    <div className=\"button-card\">\r\n                                        <Link to=\"/Curriculos\">Selecionar</Link>\r\n                                    </div>\r\n                                </div>\r\n                            </Card.Body>\r\n                        </Card>\r\n                    </Col>\r\n                </Row>\r\n\r\n            </Container>\r\n            <div className=\"tabela-dash\">\r\n                <table >\r\n                    <thead>\r\n                        <tr>\r\n                            <th>Função</th>\r\n                            <th>Salário</th>\r\n                            <th>Recrutadora(o)</th>\r\n                            <th>Local</th>\r\n                            <th>Inscrições</th>\r\n                            <th>Deletar</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {\r\n                            vagas.map((item: any) => {\r\n                                return (\r\n                                    <tr>\r\n                                        <td>{item.cargo}</td>\r\n                                        <td>R$ {item.salario.toFixed(2)}</td>\r\n                                        <td>{item.nomeRecrutador}</td>\r\n                                        <td>{item.localVaga}</td>\r\n                                        <td><Link id=\"link-dash\" to=\"/Curriculos\">Ver Inscrições</Link></td>\r\n                                        <td><Button id=\"button-dash\" name=\"Deletar\" onClick={() =>Deleta(item.id)}/></td>\r\n                                    </tr>\r\n                                )\r\n                            })\r\n                        } \r\n\r\n                    </tbody>\r\n                </table>\r\n\r\n                <div className=\"grafico\">\r\n                    <p className=\"title-grafico\">Estatísticas dos ultimos 30 dias</p>\r\n                    <Pie legend={legends}data={data}/>\r\n\r\n                    <div className=\"legends\">{generate()}</div>\r\n                </div>\r\n            </div>\r\n\r\n            <Footer />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default DashboardEmpresa;"]},"metadata":{},"sourceType":"module"}